## JWT(Json Web Token) 

### JWT란?
* 웹에서 사용되는 JSON 형식의 토큰에 대한 표준 규격
* 사용자의 인증 또는 인가 정보를 서버와 클라이언트 간에 안전하게 주고 받기 위해서 사용된다.
[사용 방법]
  * 웹에서 보통 `Authorization` HTTP 헤더를 `Bearer <토큰>`의 형태로 설정하여 클라이언트에서 서버로 전송
  * 서버에서는 토큰에 포함되어 있는 서명 정보를 통해서 위변조 여부를 빠르게 검증할 수 있다.
  * 토큰은 탈취 당하면 대처하기 어렵기 때문에 사용 기간 제한을 설정하는 식으로 극복한다.
 
[구조]
* <헤더>.<페이로드>.<서명>
  * 헤더: 토큰의 유형과 서명 알고리즘에 명시
  * 페이로드: 사용자의 인증/ 인가 정보
  * 서명: 헤더와 페이로드가 비밀키로 서명되어 저장

[장점]
* 확장성: JWT는 토큰 자체에 사용자의 정보가 저장되어 있기 때문에 서버 입장에서 토큰 검증만 해주면 된다.(인프라 비용 절감)
  (쿠키와 세션을 사용할 때는 서버 단에 로그인한 모든 사용자의 세션을 DB나 캐시에 저장해놓고 매번 세션 ID로 조회해야한다.)
* CORS 문제에도 자유류워진다.

[JWT 인증과정]
1. 사용자가 ID, PW를 입력하여 서버에 로그인 인증을 요청한다.
2. 서버에서 클라이언트로부터 인증 요청을 받으면, Header, PayLoad, Signature를 정의한다.
   Hedaer, PayLoad, Signature를 각각 Base64로 한 번 더 암호화하여 JWT를 생성하고 이를 쿠키에 담아 클라이언트에게 발급한다.
3. 클라이언트는 서버로부터 받은 JWT를 로컬 스토리지에 저장한다. (쿠키나 다른 곳에 저장할 수도 있음)
   API를 서버에 요청할때 Authorization header에 Access Token을 담아서 보낸다.
4. 서버가 할 일은 클라이언트가 Header에 담아서 보낸 JWT가 내 서버에서 발행한 토큰인지 일치 여부를 확인한다.
   일치한다면 인증을 통과시켜주고 아니라면 통과시키지 않으면 된다.
   인증이 통과되었으므로 페이로드에 들어있는 유저의 정보들을 select해서 클라이언트에 돌려준다.
5. 클라이언트가 서버에 요청을 했는데, 만일 액세스 토큰의 시간이 만료되면 클라이언트는 리프래시 토큰을 이용해서
6. 서버로부터 새로운 엑세스 토큰을 발급 받는다.

[JWT의 AccessToken, RefreshToken]
* AccessToken : 클라이언트가 가지고 있는 실제로 유저의 정보가 담긴 토큰(짧은 수명)
* RefreshToken : 새로운 AccessToken을 발급해주기 위해 사용하는 토큰 (AccessToken의 탈취를 막아 보안 ㄱ아화)

### OAuth
* 소셜 로그인 기능
* 특정 플랫폼의 사용자 데이터에 접근하기 위한 접근 권한 위임을 받을 수 있는 표준 프로토콜
* 참고: https://hudi.blog/oauth-2.0/

### 출처 
https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-JWTjson-web-token-%EB%9E%80-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC
